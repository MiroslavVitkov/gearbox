% Specification
% Gear Box for Machining Center
% P = 11kW
% n_output_max = 5000 min^{-1}

% Define a command to print variables as they get assigned.
% Use like \SetVar{variable_name}
% Command written by Heiko Oberdiek (http://tex.stackexchange.com/a/269392/45581) and edited by me.
\newcommand*{\SetVar}[2]{%
  \FPset{#1}{#2}
  \begingroup
    \fontencoding{T1}%
    \fontfamily{lmvtt}\selectfont % variable typewriter font
    % alternative: \ttfamily
    \detokenize{#1}% make _ to character
  \endgroup
  ~=~%
  \FPprint{#1}%
  \,%
  \ExtractUnit{#1}%
}
\newcommand*{\ExtractUnit}[1]{%
  \expandafter\ExtractUnitAux\detokenize{#1_}\relax
}
\begingroup
  \catcode`\_=12 %
  \gdef\ExtractUnitAux#1_#2\relax{%
    \ifx\\#2\\%
      #1
    \else
      \ExtractUnitAux#2\relax
    \fi
  }
\endgroup

% Command to print the value of a variable, together with the measurement unit.
% Written by me.
\newcommand*{\PrintVar}[1]
{
  \FPprint{#1}
}

\documentclass{article}
\usepackage[nomessages]{fp}  % http://ctan.org/pkg/fp
\begin{document}

\section{Requirements}
\SetVar{P_output_kW}{11}          \\
\SetVar{P_output_max_rpm}{5000}

%P_output_kW = \FPprint{P_output_kW} kW
%n_output_max_rpm = \FPprint{n_output_max_rpm} rpm

\section{Motor selection}
From [4] we select the Siemens 1PH209 spindle motor.
It is the recommended built-in motor for standard machine tool spindle.
Outside diameter is 205mm, output shaft diameter 67mm.
Nominal speed 1500rpm, maximum 10000rpm.

\section{Kinematic diagram (plan for rotational velocities)}
The goal of the gearbox is to provide sufficient torque to the spindle at low motor speeds (below $n_{nominal}$).
For selecting the low gear we utilize the rule of thumb to choose a transfer ratio between $1/3$ and $1/4$:
$$ TR_{low} = 1/4 $$
For selecting the high gear, we try to match the maximum speed of the motor with the required maximum spindle speed by specification:
$$ TR_{high} = n_{spindle, max} / n_{motor, max} $$

Let us suppose the goal of our gearbox is to operate the motor in its most efficient region.
Furthermore, let us select a low-speed gear of 1500rpm in addition to the required by specification 5000rpm gear.
Sonsequenctly, we need transfer ratios of 1.000 and 3.333.
%TODO: draw respective diagram

\section{Components sizing}
\subsection{Shafts}
Requirements: desing Input shaft and Output shaft with appropriate key joints, capable of transmitting 11kW plus efficiency losses.
As the requirements match, we will callculate only a simple shaft design.


\FPeval\vExample{3.14*2.72}
\vExample

\subsection{Gears}
\subsection{Shifter}
\subsection{Casing and seals}
\subsection{Operating temperature}

\end{document}

% References
% 1. Machine Desing II, Module 2 - GEARS, Lecture 17 â€“ DESIGN OF GEARBOX, Prof. K.Gopinath & Prof. M.M.Mayuram
% 2. Design Basics of Industrial Gear Boxes, Andrzej Maciejczyk, Zbigniew Zdziennicki, Technical University of Lodz
% 3. Example of gearbox calculation, www.mitcalc.com
% 4. https://www.industry.usa.siemens.com/drives/us/en/electric-motor/mc-motors/direct-drive-motors/Documents/mtr-direct-drive-brochure.pdf  (page 16)
% 5. Principles of mechanical engineering, Liubomir Dimitrov
